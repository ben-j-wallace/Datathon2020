---
title: "test"
author: "Albert Sun"
output: 
    pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(hrbrthemes)
```

```{r}
mobility <- read.csv("../data/US-Mobility-Report.csv")
```

```{r}
durham <- mobility %>%
  filter(sub_region_2 == "Durham County")

durham %>%
  head(50) %>%
  ggplot(aes(x = date, y = workplaces_percent_change_from_baseline)) +
  geom_point() +
  theme_ipsum_rc() 
```

```{r}
nc_avg <- mobility %>%
  filter(sub_region_1 == "North Carolina") %>%
  group_by(sub_region_2, na.rm=TRUE) %>%
  summarise(retail_avg = mean(retail_and_recreation_percent_change_from_baseline, na.rm=TRUE),
            grocery_avg = mean(grocery_and_pharmacy_percent_change_from_baseline, na.rm=TRUE),
            parks_avg = mean(parks_percent_change_from_baseline, na.rm=TRUE),
            transit_avg = mean(transit_stations_percent_change_from_baseline, na.rm=TRUE),
            workplaces_avg = mean(workplaces_percent_change_from_baseline, na.rm=TRUE),
            residential_avg = mean(residential_percent_change_from_baseline, na.rm=TRUE))
nc_avg

```



```{r plot}
test_plot <- ggplot(mtcars, aes(mpg, wt)) +
  geom_point() +
  labs(x="Fuel efficiency (mpg)", y="Weight (tons)",
       title="Seminal ggplot2 scatterplot example",
       subtitle="A plot that is only useful for demonstration purposes",
       caption="Brought to you by the letter 'g'") +
  theme_ipsum_rc()
```

```{r save file}
ggsave("../output/test-plot.png", test_plot, units = "in", width = 850/100, height = 600/100 )
```

# EDA 



# Linear Regression Code

